# Simple Factory Pattern VS Factory Method

Below is a **clear comparison of Factory Method vs Simple Factory in C#**, with **definitions, diagrams (conceptually), code examples, differences, and when to use which** ‚Äî perfect for interviews.

---

# ‚úÖ **1. Simple Factory Pattern**

### **Definition**

A **Simple Factory** is a design pattern where **one central class** (a factory) contains a method that creates and returns objects based on input.
It **does not use inheritance or polymorphism for factory creation**.
It is **not a GoF pattern**, but used widely.

### **Key Idea**

* One class decides **which concrete class** to instantiate.
* Client does **not** use `new` directly.

---

## üîß **Simple Factory ‚Äì C# Example**

```csharp
public interface INotification
{
    void Send(string message);
}

public class EmailNotification : INotification
{
    public void Send(string message) => Console.WriteLine("Email: " + message);
}

public class SmsNotification : INotification
{
    public void Send(string message) => Console.WriteLine("SMS: " + message);
}

public class NotificationFactory
{
    public static INotification Create(string type)
    {
        return type switch
        {
            "email" => new EmailNotification(),
            "sms"   => new SmsNotification(),
            _       => throw new ArgumentException("Invalid type")
        };
    }
}
```

### **Usage**

```csharp
var notification = NotificationFactory.Create("email");
notification.Send("Hello!");
```

---

# üéØ **When to Use Simple Factory**

* Logic is simple.
* Limited number of products.
* Centralized object creation is needed.
* Clients should not use `new`.

---

# üö´ **Drawbacks of Simple Factory**

* If you add a new product, you must **modify the factory** (violates OCP - Open/Closed Principle).
* Factory becomes large over time.

---

---

# ‚úÖ **2. Factory Method Pattern**

### **Definition**

The **Factory Method Pattern** defines an **abstract method** for creating objects but lets **subclasses decide** which class to instantiate.

It **uses inheritance & polymorphism**, unlike Simple Factory.

### **Key Idea**

* Base class defines a "factory method".
* Subclasses override it to create specific objects.
* Supports **Open/Closed Principle** (adding new types without modifying existing code).

---

## üîß **Factory Method ‚Äì C# Example**

### Step 1 ‚Äî Product

```csharp
public interface INotification
{
    void Send(string message);
}
```

### Step 2 ‚Äî Concrete Products

```csharp
public class EmailNotification : INotification
{
    public void Send(string message) => Console.WriteLine("Email: " + message);
}

public class SmsNotification : INotification
{
    public void Send(string message) => Console.WriteLine("SMS: " + message);
}
```

### Step 3 ‚Äî Creator (abstract)

```csharp
public abstract class NotificationCreator
{
    public abstract INotification CreateNotification();

    public void Notify(string message)
    {
        var notification = CreateNotification();
        notification.Send(message);
    }
}
```

### Step 4 ‚Äî Concrete Creators

```csharp
public class EmailCreator : NotificationCreator
{
    public override INotification CreateNotification() => new EmailNotification();
}

public class SmsCreator : NotificationCreator
{
    public override INotification CreateNotification() => new SmsNotification();
}
```

### Usage

```csharp
NotificationCreator creator = new EmailCreator();
creator.Notify("Welcome!");

creator = new SmsCreator();
creator.Notify("OTP: 1234");
```

---

# üéØ **When to Use Factory Method**

* When you want subclasses to choose which object to create.
* When adding new product types **without modifying existing code**.
* When object creation logic is variable or complex.
* When following SOLID, especially **Open/Closed Principle**.

---

# üö´ **Drawbacks of Factory Method**

* More classes (creators + products).
* More complex structure.

---

---

# üî• **Factory Method vs Simple Factory (Comparison Table)**

| Feature                      | Simple Factory           | Factory Method              |
| ---------------------------- | ------------------------ | --------------------------- |
| Pattern type                 | Not GoF pattern          | GoF Design Pattern          |
| Uses inheritance?            | ‚ùå No                     | ‚úî Yes                       |
| Extensibility                | ‚ùå Need to modify factory | ‚úî Add new subclass only     |
| OCP Friendly                 | ‚ùå No                     | ‚úî Yes                       |
| Responsibility               | One factory class        | Multiple creator subclasses |
| Who decides object creation? | Factory class            | Subclasses                  |
| Complexity                   | Low                      | Medium/High                 |
| When to use                  | Small systems            | Large, scalable systems     |

---

# üß† **Real-World Example**

Scenario:
You modernized Krux's monolithic app into microservices. For notification service:

* **Simple Factory** ‚Üí selecting notification provider ("email", "sms")
* **Factory Method** ‚Üí each microservice defines its own notification creation by extending a base creator, no need to alter a central factory when adding new providers

---

If you want, I can also provide:
‚úÖ Abstract Factory vs Factory Method
‚úÖ UML diagrams
‚úÖ Real interview questions + answers
Just tell me!
